<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ES6</title>
</head>
<body>
<script>
    'use strict';
    /**
     *  1. JSON: 数据交换
     *     JSON和XML对比?
     *
     *  2. JSON的转换:
     *      window.JSON.stringify(JSONObj);   ==>> JSON对象转为JSON字符串  stringify 字符串化
     *      window.JSON.parse(JSONStr); // ===>> JSON字符串解析为JSON对象 IE6- IE8不兼容，需要使用eval函数
     *
     *  3. JSON的格式
     *    必须采用双引号，外面可以采用单引号， 因为所有的语音都使用
     *     {"name":"clh", "age":25}
     *     '{"name":"clh", "age":25}'  ===>> 有时候会用到的
     *
     *
     *  4. JSON的简写
     *      --- 属性名和值一样 写一个即可   {name, age}  key和value一样简写
     *      --- 属性名值是匿名函数的时候，:function可以省略    getX() {}
     *
     *
     *  5. URL传参数， 是JSON字符串的时候，需要进行转换
     *  --->> encodeURIComponent主要用于url的query参数:
     *      encodeURIComponent(str): 将URL带的参数进行加码
     *      decodeURIComponent(str): 将URL带的参数进行解码
     *
     *  --->> decodeURI: 对整个URL进行解码
     *  encodeURI:对整个URL进行加码
     *  decodeURI: 对整个URL进行解码
     *
     */

    let obj = {name: 'clh', age: 23};
    let url = 'http://baidu.com?data=' + encodeURIComponent(JSON.stringify(obj));
    console.log(url);

    console.log(decodeURIComponent(url.slice(url.indexOf('=')+1)));





    // ==>>JSON数据格式
    let json = '{"name":"clh"}';
    console.log((window.JSON.parse(json)));


    // ==>>JSON解析方法parse的兼容性
    function parse(val) {
        let strJson = '';
        try {
            strJson = JSON.parse(val); // ==>> 高版本浏览器使用
        }catch (e) {
            strJson = eval( '(' + val +')' ); // ==>> IE6 - IE8浏览器使用
        }
        return strJson;
    }
    console.log(parse(json));




    // ==>> 属性名和值一样，写一个即可
    function fn(name, age) {
        return {
            name,
            age
        }
    }
    console.log('wdd', 25);


    let a = 1;
    let obj1 = {
        a,
        b,
        getA() {

        }
    }
</script>
</body>
</html>